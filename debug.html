<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug - Anarchroom/title>
    <link rel="stylesheet" href="anarcroom.css">
</head>
<body>
    <div class="container">
        <div class="header">
          <div class="header-logo">
            <img src="374762a1-c03d-478c-acde-97469eea0fa3.png" alt="Logo">
          </div>
          <h1>Chat Corporativo</h1>
          <p class="tagline">Ferramentas de Debug</p>
        </div>

        <div class="section">
            <h2>Teste da Aplicação</h2>
            <p style="margin-bottom: 15px; color: #6b7280;">Esta página ajuda a testar a versão cliente do chat que usa localStorage.</p>

            <div class="form-group">
                <label for="dbg_room">Código da Sala:</label>
                <input id="dbg_room" type="text" placeholder="Código da sala" value="TEST123">
            </div>

            <div class="form-group">
                <label for="dbg_user">Nome de Utilizador:</label>
                <input id="dbg_user" type="text" placeholder="Nome" value="DebugUser">
            </div>

            <div style="display: flex; gap: 10px;">
                <button onclick="dbgOpen()" style="flex: 1;">Abrir Sala</button>
                <button onclick="dbgClear()" style="flex: 1;">Limpar Mensagens</button>
            </div>
        </div>

        <div class="section">
            <p style="color: #6b7280; font-size: 0.9rem;">Abra <code>chat_novo.html?room=SEU_CODIGO</code> para testar a aplicação.</p>
        </div>
    </div>

    <script>
    function dbgOpen(){
        const r = document.getElementById('dbg_room').value.trim() || 'TEST123';
        window.location.href = `chat_novo.html?room=${r}`;
    }
    function dbgClear(){
        const r = document.getElementById('dbg_room').value.trim() || 'TEST123';
        localStorage.removeItem('anarcroom_msgs_' + r);
        alert('Mensagens locais removidas para a sala ' + r);
    }
    </script>
</body>
</html>
